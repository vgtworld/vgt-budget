<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        template="/WEB-INF/templates/basic.xhtml"
        >
    <f:metadata>
        <f:viewParam name="receiptId" value="#{receiptProductEditController.receiptId}"/>
        <f:viewParam name="productId" value="#{receiptProductEditController.productId}"/>
        <f:viewParam name="receiptProductId" value="#{receiptProductEditController.receiptProductId}"/>
        <f:viewAction action="#{receiptProductEditController.initData()}"/>
    </f:metadata>
    <ui:define name="content">
        <div class="container-fluid col-lg-6 col-lg-offset-3">
            <h:form>

                <h:messages styleClass="alert alert-danger"/>

                <div class="form-group">
                    <h:outputLabel for="form-product" value="Product"/>
                    <h:inputText
                            id="form-product"
                            styleClass="form-control"
                            readonly="true"
                            value="#{receiptProductEditController.product.name}"
                            />
                </div>

                <div class="form-group">
                    <h:outputLabel for="form-amount" value="Amount"/>
                    <h:inputText
                            id="form-amount"
                            styleClass="form-control"
                            value="#{receiptProductEditController.form.amount}"
                            required="true"
                            requiredMessage="Amount is required"
                            converterMessage="Amount must be a number"
                            validatorMessage="Amount must be greater than zero"
                            >
                        <f:validateDoubleRange minimum="0.01"/>
                    </h:inputText>
                </div>

                <div class="form-group">
                    <h:outputLabel for="form-unit-price" value="Price per unit"/>
                    <h:inputText
                            id="form-unit-price"
                            styleClass="form-control"
                            value="#{receiptProductEditController.form.unitPrice}"
                            required="true"
                            requiredMessage="Price per unit is required"
                            converterMessage="Price per unit must be a number"
                            validatorMessage="Price per unit must be greater than zero"
                            >
                        <f:validateDoubleRange minimum="0.01"/>
                    </h:inputText>
                </div>

                <div class="form-group">
                    <h:outputLabel for="form-description" value="Description"/>
                    <h:inputText
                            id="form-description"
                            styleClass="form-control"
                            value="#{receiptProductEditController.form.description}"
                            />
                </div>

                <div class="form-group">
                    <h:commandButton styleClass="btn btn-default" value="Save product" type="submit" action="#{receiptProductEditController.submitForm()}"/>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>